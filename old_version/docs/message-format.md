interface Message {
  // Core message properties
  id: string;                   // Unique message identifier generated by Firestore
  content: string;              // Main message text content
  senderId: string;             // User ID of the sender
  senderName?: string;          // Display name of sender
  recipientIds?: string[];      // Array of user IDs this message targets (@mentions)
  createdAt: timestamp;         // Creation timestamp
  updatedAt: timestamp;         // Last update timestamp
  deleted: boolean;             // Soft delete flag

  // AI Agent specific properties
  fromAiAgent: boolean;         // Flag for AI-generated messages
  toAiAgent: boolean;           // Flag for if an AI should listen for this message

  // File, URL and Data Request fields
  dataRequest?: object;         // Zod schema to the request user input (show button on message card, show ZodForm modal for schema on click, save document and send as message document(s) reply to sender id (with @message) from message that reqeusted the data)
  documents?: DocumentItem[];   // Array of document references to show on message card
  media?: MediaItem[];          // Array of media references
  urls?: WebUrl[];              // Array of web urls
  
  // Extensible metadata for project-specific fields
  metadata?: {
    [key: string]: any;         // Flexible storage for project-specific fields
    // Common examples from your current system:
    // project_id?: string;
    // todo_id?: string;
    // document_id?: string;
    // event?: string;          // Event type like "document_added", "todo_assigned"
    // action?: string;         // Action performed
    // Add any other project-specific fields as needed
  };
}

interface DocumentItem {
  id: string;                   // Document ID in Firebase Storage
  name: string;                 // Display name of document
  type: string;                 // MIME type
  url: string;                  // Download URL
  thumbnailUrl?: string;        // Optional thumbnail for preview
}

interface MediaItem {
  id: string;                   // Media ID in Firebase Storage
  type: string;                 // MIME type (image/*, video/*)
  url: string;                  // Source URL
  thumbnailUrl?: string;        // Thumbnail for video in Firebase Storage
}

interface WebUrl {
  type: string;                 // Title of webpage for URL
  url: string;                  // Website URL
  thumbnailUrl?: string;        // Thumbnail for URL in Firebase Storage
}